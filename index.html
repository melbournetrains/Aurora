<!doctype html>

<script src="https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js"></script>

<link href="https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.css" rel="stylesheet" />
<link href="css/bootstrap.css" rel="stylesheet" type="text/css">
<link href="css/aurora.css" rel="stylesheet" type="text/css">
<html>
  <head>
    <title>Aurora</title>
  </head>
  <body> 
        <div id="left" class="sidebar flex-center left collapsed">
          <div class="sidebar-content rounded-rect flex-center">
            <div class="row">
            <h1 class="display-1"> <b>aurora.</b></h1>
            </div>
            <div class="row">
            <h3 class="display-3">     live transport tracking</h3>
            </div>
          <div
          class="sidebar-toggle rounded-rect left"
          onclick="toggleSidebar('left')"
          >
          &rarr;
          </div>
          </div>
          </div>

    </div>
  </div>
    <div id="map"></div>

    <script>
      mapboxgl.accessToken = 'pk.eyJ1IjoiZmlubmVoIiwiYSI6ImNrODQyZWxiZjBqazAzZm85bndxZTQycW0ifQ.kU3n1xZMj7WA1JSO44f14Q'; // replace this with your access token
      var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/finneh/ckjtu5t9y07rv19rywf2wsr4y', // replace this with your style URL
        center: [144.727318, 37.579090],
        zoom: 10.7
      });
  
      map.on('click', function(e) {
    var features = map.queryRenderedFeatures(e.point, {
      layers: ['stops'] // replace this with the name of the layer
    });
  
    if (!features.length) {
      return;
    }
  
    var feature = features[0];
  
    var popup = new mapboxgl.Popup({ offset: [0, -15] })
      .setLngLat(feature.geometry.coordinates)
      .setHTML('<h3>' + feature.properties.stop_name + '</h3><p>' + feature.properties.description + '</p>')
      .addTo(map);
  });

  if (collapsed) {
// Remove the 'collapsed' class from the class list of the element, this sets it back to the expanded state.
classes.splice(classes.indexOf('collapsed'), 1);
 
padding[id] = 300; // In px, matches the width of the sidebars set in .sidebar CSS class
map.easeTo({
padding: padding,
duration: 1000 // In ms, CSS transition duration property for the sidebar matches this value
});
} else {
padding[id] = 0;
// Add the 'collapsed' class to the class list of the element
classes.push('collapsed');
 
map.easeTo({
padding: padding,
duration: 1000
});
}
 
// Update the class list on the element
elem.className = classes.join(' ');
}
 
map.on('load', function () {
toggleSidebar('left');
});
      </script>
</body>
</html>
